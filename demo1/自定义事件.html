<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>自定义事件</title>
</head>
<body>
  <div id="myDiv">自定义事件</div>
  
  <script>
    var div = document.getElementById("myDiv");
    var event;
    
    div.addEventListener("myevent", function(event) {
      alert("DIV: " + event.detail);
    });
    
    document.addEventListener("myevent", function(event) {
      alert("DOCUMENT: " + event.detail);
    });
    
    // 创建自定义事件
    event = document.createEvent("CustomEvent");
    // 初始化自定义事件，就是配置event对象的参数
    // 参数依次为 type、bubbles（是否冒泡）、canceable、detail
    event.initCustomEvent("myevent", true, false, "hello world!");
    // 模拟触发自定义事件
    div.dispatchEvent(event);
  </script>
</body>
</html>